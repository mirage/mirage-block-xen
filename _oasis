OASISFormat: 0.3
Name:        ocaml-xen-block-driver
Version:     0.2.4
Synopsis:    Xen block frontend and backend driver implementation
Authors:     Jonathan Ludlam, Anil Madhavapeddy, David Scott
License:     ISC
Plugins:     META (0.3)
BuildTools:  ocamlbuild

Flag blkfront
  Default:            true
  Description:        build the frontend driver

Flag blkback
  Default:            true
  Description:        build the backend driver

Library xenblock
  CompiledObject:     best
  Path:               lib
  Findlibname:        xenblock
  Modules:            Blkproto, Device_number
  BuildDepends:       cstruct, cstruct.syntax

Library blkfront
  Build$:             flag(blkfront)
  CompiledObject:     best
  Path:               lib
  Findlibparent:      xenblock
  Findlibname:        front
  Modules:            Blkfront, Blkfront_init
  BuildDepends:       lwt, lwt.syntax, cstruct, cstruct.syntax, mirage, mirage-types, shared-memory-ring, shared-memory-ring.lwt, xenblock

Library blkback
  Build$:             flag(blkback)
  CompiledObject:     best
  Path:               lib
  Findlibparent:      xenblock
  Findlibname:        back
  Modules:            Blkback
  BuildDepends:       lwt, lwt.syntax, cstruct, cstruct.syntax, mirage, shared-memory-ring, shared-memory-ring.lwt, xenblock, xenctrl
