<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Device_number (mirage-block-xen.Device_number)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">mirage-block-xen</a> &#x00BB; Device_number</nav><header class="odoc-preamble"><h1>Module <code><span>Device_number</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-bus_type" class="anchored"><a href="#type-bus_type" class="anchor"></a><code><span><span class="keyword">type</span> bus_type</span><span> = </span></code><table><tr id="type-bus_type.Xen" class="anchored"><td class="def variant constructor"><a href="#type-bus_type.Xen" class="anchor"></a><code><span>| </span><span><span class="constructor">Xen</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A xen paravirtualised bus</p><span class="comment-delim">*)</span></td></tr><tr id="type-bus_type.Scsi" class="anchored"><td class="def variant constructor"><a href="#type-bus_type.Scsi" class="anchor"></a><code><span>| </span><span><span class="constructor">Scsi</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A SCSI bus</p><span class="comment-delim">*)</span></td></tr><tr id="type-bus_type.Ide" class="anchored"><td class="def variant constructor"><a href="#type-bus_type.Ide" class="anchor"></a><code><span>| </span><span><span class="constructor">Ide</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>An IDE bus</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>Disks are attached to particular bus types:</p></div></div><div class="odoc-spec"><div class="spec type" id="type-spec" class="anchored"><a href="#type-spec" class="anchor"></a><code><span><span class="keyword">type</span> spec</span><span> = <a href="#type-bus_type">bus_type</a> * int * int</span></code></div><div class="spec-doc"><p>A specification for a device number. There are more valid specifications than valid device numbers because of hardware and/or protocol limits.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>A valid device number</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make" class="anchored"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span><a href="#type-spec">spec</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>make spec</code> validates a given device number specification <code>spec</code> and returns a device number</p></div></div><div class="odoc-spec"><div class="spec value" id="val-spec" class="anchored"><a href="#val-spec" class="anchor"></a><code><span><span class="keyword">val</span> spec : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-spec">spec</a></span></code></div><div class="spec-doc"><p><code>spec t</code> takes a <code>t</code> and returns the corresponding <code>spec</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_string" class="anchored"><a href="#val-of_string" class="anchor"></a><code><span><span class="keyword">val</span> of_string : <span>bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_string hvm name</code> returns the interface which best matches the <code>name</code> by applying the policy: first check if it is a disk_number, else fall back to a linux_device for backwards compatability</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_debug_string" class="anchored"><a href="#val-to_debug_string" class="anchor"></a><code><span><span class="keyword">val</span> to_debug_string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>to_debug_string i</code> returns a pretty-printed interface</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_linux_device" class="anchored"><a href="#val-to_linux_device" class="anchor"></a><code><span><span class="keyword">val</span> to_linux_device : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>to_linux_device i</code> returns a possible linux string representation of interface <code>i</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_linux_device" class="anchored"><a href="#val-of_linux_device" class="anchor"></a><code><span><span class="keyword">val</span> of_linux_device : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_linux_device x</code> returns the interface corresponding to string <code>x</code></p></div></div><div class="odoc-spec"><div class="spec type" id="type-xenstore_key" class="anchored"><a href="#type-xenstore_key" class="anchor"></a><code><span><span class="keyword">type</span> xenstore_key</span><span> = int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_xenstore_key" class="anchored"><a href="#val-to_xenstore_key" class="anchor"></a><code><span><span class="keyword">val</span> to_xenstore_key : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-xenstore_key">xenstore_key</a></span></code></div><div class="spec-doc"><p><code>to_xenstore_key i</code> returns the xenstore key from interface <code>i</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_xenstore_key" class="anchored"><a href="#val-of_xenstore_key" class="anchor"></a><code><span><span class="keyword">val</span> of_xenstore_key : <span><a href="#type-xenstore_key">xenstore_key</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_xenstore_key key</code> returns an interface from a xenstore key</p></div></div><div class="odoc-spec"><div class="spec type" id="type-disk_number" class="anchored"><a href="#type-disk_number" class="anchor"></a><code><span><span class="keyword">type</span> disk_number</span><span> = int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_disk_number" class="anchored"><a href="#val-to_disk_number" class="anchor"></a><code><span><span class="keyword">val</span> to_disk_number : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-disk_number">disk_number</a></span></code></div><div class="spec-doc"><p><code>to_disk_number i</code> returns the corresponding non-negative disk number</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_disk_number" class="anchored"><a href="#val-of_disk_number" class="anchor"></a><code><span><span class="keyword">val</span> of_disk_number : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-disk_number">disk_number</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_disk_number hvm n</code> returns the interface corresponding to disk number <code>n</code> which depends on whether the guest is <code>hvm</code> or not.</p></div></div></div></body></html>